# ゲーミフィケーション・ロジック定義

## 1. 経験値 (XP) システム

### 獲得XP一覧
| アクション | XP獲得量 | 備考 |
| :--- | :--- | :--- |
| ストリーク継続 (ログイン時) | 100 XP | 1日1回 |
| 日記記入 | 50 XP | 1日1回 |
| 筋トレ完了 | 30 XP | 1日最大3回まで |
| 習慣チェック完了 | 10 XP | 1項目につき |
| ストリークの節目 (7, 30, 90日) | 500~2000 XP | ボーナス |

### レベル計算式
- `Lv 1 -> Lv 2`: 100 XP
- `Lv n -> Lv n+1`: `100 * (n^1.5)` XP (累計ではなく、そのレベルで必要なXP)

## 2. 称号システム
「勉強」「仕事」「恋愛」の3カテゴリ。各レベルに応じて進化。

### 恋愛カテゴリ (例)
- Lv 1-5: 恋愛見習い
- Lv 6-15: 雰囲気イケメン
- Lv 16-25: 魅力の体現者
- Lv 26-30: 恋愛マスター

## 3. モテレベル (-100 to 100)
ストリーク日数に加えて、日々の自分磨き（筋トレ、瞑想、習慣）を総合的に評価する指標。200段階の細かい成長を実感できる。

### 3.1 構成要素（属性）
以下の4つの属性の平均値（または合計の調整値）をモテレベルとする。

| 属性 | 関連アクション | 意味 |
| :--- | :--- | :--- |
| **Confidence (自信)** | ストリーク日数 | 自己コントロール能力の証明 |
| **Vitality (活力)** | 筋トレ、運動 | 男性的エネルギー、肉体美 |
| **Calmness (余裕)** | 瞑想、日記、睡眠 | 精神的安定、知性 |
| **Cleanliness (清潔感)** | 身だしなみ、スキンケア | 外見への配慮、礼儀 |

### 3.2 算出式
`Mote Level = (Confidence + Vitality + Calmness + Cleanliness) / 4`
※各属性は-100から100ポイントの範囲。モテレベルも-100から100の範囲にクランプされる。

### 3.3 ステージ定義（200段階）

モテレベル-100から100までの各レベルに固有のステージ名称が設定されています。詳細な一覧は `lib/mote-stages.ts` を参照してください。

#### 主要なステージ範囲

| レベル範囲 | 代表的なステージ名称 | 説明 | 視覚効果 |
| :--- | :--- | :--- | :--- |
| -100 to -81 | 虚無の深淵、絶望の底、深淵の住人 | 底なしの暗闇に沈んでいます | 黒い影のオーラ |
| -80 to -51 | 負の連鎖、自信喪失、虚しさの渦 | 悪循環から抜け出せない状態 | 赤い警告のオーラ |
| -50 to -21 | 霧の中の迷子、自問自答、自己嫌悪 | 自分を信じられない日々 | なし |
| -20 to -1 | 薄れゆく影、声を出す、存在の証明 | 存在感が薄れていく... | なし |
| 0 | 透明人間 | 誰の視界にも入らない状態 | なし |
| 1 to 20 | 存在の自覚、最初の一歩、存在感の萌芽 | 少しずつ視界に入り始めた | なし |
| 21 to 50 | 視線を集め始める、周囲の反応、魅力の発芽 | すれ違いざまに視線を感じる... | なし |
| 51 to 75 | 好印象の人、魅力の開花、惹きつける力 | 周囲を惹きつける力が覚醒中 | 青白い光のオーラ |
| 76 to 100 | オーラの発現、圧倒的存在感、圧倒的オーラ | 存在するだけで空気が変わる | 黄金の輝き |

#### ステージ名称の特徴

- **マイナス域（-100 to -1）**: 闘いと回復の道を表現。深淵から始まり、徐々に回復へ向かう過程を100段階で表現。
- **プラス域（0 to 100）**: 覚醒と飛躍の道を表現。透明人間から始まり、圧倒的オーラへと成長する過程を101段階で表現。

各レベルには独自の名称と説明が設定されており、ユーザーは細かな成長の変化を実感できます。

### 3.4 リセットとリカバリー
失敗（リセット）した場合、各属性値は大幅に減少し、マイナス値に落ちる可能性がある。
- リセット時：`Current Attribute = Current Attribute * 0.3`（より厳しいペナルティ）
- マイナス値も許容され、-100まで下がる可能性がある
- **再起ボーナス:** リセット後の3日間、属性値の獲得量が 1.5 倍になる。

